import{j as e,a as t}from"./index-Brw_O7UB.js";import{r}from"./react-core-Bb0gnVVB.js";import"./mui-eVobQS_6.js";import"./emotion-BB-a1p0A.js";import"./router-Db56Mi_u.js";function n({audioUrl:n,duration:a,sender:i,timestamp:o,isOwnMessage:d}){const[s,l]=r.useState(!1),[p,c]=r.useState(0),[f,u]=r.useState(!1),g=r.useRef(null),m=r.useRef(null);r.useEffect(()=>{const e=g.current;if(!e)return;const t=()=>{u(!0)},r=()=>{c(e.currentTime)},n=()=>{l(!1),c(0)},a=()=>{l(!0)},i=()=>{l(!1)};return e.addEventListener("loadedmetadata",t),e.addEventListener("timeupdate",r),e.addEventListener("ended",n),e.addEventListener("play",a),e.addEventListener("pause",i),()=>{e.removeEventListener("loadedmetadata",t),e.removeEventListener("timeupdate",r),e.removeEventListener("ended",n),e.removeEventListener("play",a),e.removeEventListener("pause",i)}},[]);const x=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;return e("div",{style:{padding:"12px 16px",background:d?"linear-gradient(90deg, #1cc6ff 0%, #009fff 100%)":"rgba(255, 255, 255, 0.1)",borderRadius:"16px",maxWidth:"280px",border:d?"1px solid rgba(62, 242, 255, 0.3)":"1px solid rgba(255, 255, 255, 0.1)",boxShadow:d?"0 4px 16px rgba(28, 198, 255, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.1)",animation:"fadeInUp 0.3s ease"},children:[e("div",{style:{fontSize:"12px",opacity:.7,marginBottom:"8px",fontWeight:"600",color:d?"#fff":"#a0f0ff"},children:[d?"Moi":i," • Message vocal"]}),e("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t("button",{onClick:()=>{g.current&&(s?g.current.pause():g.current.play())},disabled:!f,style:{padding:"8px",background:d?"rgba(255, 255, 255, 0.2)":"rgba(28, 198, 255, 0.2)",border:"none",borderRadius:"50%",color:d?"#fff":"#3ef2ff",cursor:f?"pointer":"not-allowed",fontSize:"16px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",opacity:f?1:.6,transition:"all 0.3s ease"},onMouseEnter:e=>{f&&(e.target.style.transform="scale(1.1)")},onMouseLeave:e=>{e.target.style.transform="scale(1)"},children:s?"⏸️":"▶️"}),e("div",{style:{flex:1},children:[t("div",{ref:m,onClick:e=>{if(!g.current||!m.current)return;const t=m.current.getBoundingClientRect(),r=(e.clientX-t.left)/t.width;g.current.currentTime=r*g.current.duration},style:{width:"100%",height:"4px",background:d?"rgba(255, 255, 255, 0.3)":"rgba(28, 198, 255, 0.3)",borderRadius:"2px",cursor:"pointer",position:"relative",overflow:"hidden"},children:t("div",{style:{width:(f?p/a*100:0)+"%",height:"100%",background:d?"rgba(255, 255, 255, 0.8)":"#3ef2ff",borderRadius:"2px",transition:"width 0.1s ease"}})}),e("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:d?"rgba(255, 255, 255, 0.8)":"#a0f0ff",marginTop:"4px"},children:[t("span",{children:x(p)}),t("span",{children:x(a)})]})]})]}),t("div",{style:{fontSize:"10px",opacity:.6,marginTop:"8px",textAlign:"right",color:d?"rgba(255, 255, 255, 0.8)":"#a0f0ff"},children:new Date(o).toLocaleTimeString()}),t("audio",{ref:g,src:n,preload:"metadata",style:{display:"none"}})]})}export{n as default};
